# Python code

## General
In this folder you can find all the Python code I used to implement my Bayesian model of the co-evolution of language and mindreading (including development, iterated learning and biological evolution). I've organised the python scripts into three different folders. 

* In the [modules](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/python_code/modules) folder you'll find all the core components needed to run the different types of simulations. I've separated these out into several modules which implement different parts of the model (e.g. agents, languages, contexts and so on). 

* In the [scripts_for_running_simulations](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/python_code/scripts_for_running_simulations) folder you'll find the four main scripts which import the modules from the [modules](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/python_code/modules) folder in order to run a full simulation. The script `run_learner_speaker.py` runs a simulation of a single learner learning from a single speaker (as described in Woensdregt et al., 2016), and `run_learner_pop.py` does the same for a learner receiving data from a population of different speakers. The script `run_pop_iteration.py` runs a simulation of a whole population transmitting languages over generations using iterated learning, in which different selection pressures can be switched on or off. And finally, the script `run_evolvability_analysis.py` loads in the data of a population of literal agents which has already run to convergence, and inserts a pragmatic 'mutant' agent into this population, followed by a simulation of a combined cultural+biological evolution model (where the gene for being 'pragmatic' or 'literal' is transmitted genetically). Each of these main modules starts with a list of parameter settings right after the import statements.

* In the [analysing_and_plotting_results](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/python_code/analysing_and_plotting_results) folder you find a set of scripts which take the output from any of the simulation scripts from the [scripts_for_running_simulations](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/python_code/scripts_for_running_simulations) folder as input and either plots the data or performs some extra analysis on the data to prepare it for plotting. The module `plots.py` contains a range of different plotting functions for results from individual learning and iterated learning. All the `unpickle_n...` modules load in a specific set of `.p` files in which the results of the simulations are stored for plotting or analysis.

## Navigating the code
Throughout these modules I used a mixture of object-oriented programming and regular functions, and explained how each function, class or method works using docstrings and comments. I also used long and intelligible variable and function names, which should hopefully make the code relatively easy to read.

## Running large simulations
**Note** that some of these simulations take quite a long time to run (learners require a relatively large amount of observations because they are subjected to a joint inference task of simultaneously inferring the perspective and the lexicon of the speaker), so it might be worth outsourcing the running of large simulations to a computer cluster or similar. See more info on that in the folder [code_for_running_on_cluster](https://github.com/marieke-woensdregt/model_coevolution_language_mindreading/tree/master/code_for_running_on_cluster).
